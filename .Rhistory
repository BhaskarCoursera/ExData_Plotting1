library(xlsx)
fxl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx "
download.file(fxl, destfile = "./test.xlsx", method="curl")
dat <- read.xlsx("./test.xlsx", sheetIndex=1, colIndex=c(7:15), rowIndex=c(18:23))
sum(dat$Zip*dat$Ext,na.rm=T)
fxml <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
download.file(fxml, destfile = "./test.xml", method="curl")
library(XML)
install.packages('XML')
library(XML)
doc <- xmlTreeParse(fxml, useInternal = TRUE)
doc <- xmlTreeParse("./test.xml", useInternal = TRUE)
rootNode <- xmlRoot(doc)
xpathSApply(rootNode,"//zipcode", xmlValue)
xmlValue
?xpathSApply
vct <- xpathSApply(rootNode,"//zipcode", xmlValue)
vct
length(grep("21231",vct))
lnk <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(lnk, destfile = "./test1.csv", method="curl")
DT <- fread("test1.csv")
library(data.table)
install.packages('data.table')
library(data.table)
DT <- fread("test1.csv")
head(DT)
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15)
system.time(mean(DT[DT$SEX==1,]$pwgtp15))
system.time(DT[,mean(pwgtp15),by=SEX)
system.time(DT[,mean(pwgtp15),by=SEX)])
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(mean(DT$pwgtp15,by=DT$SEX)
)
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(rowMeans(DT)[DT$SEX==1])
SYSTEM.TIME(tapply(DT$pwgtp15,DT$SEX,mean)
)
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
sapply(split(DT$pwgtp15,DT$SEX),mean))
sapply(split(DT$pwgtp15,DT$SEX),mean)
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
length(grep("21231",vct))
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(rowMeans(DT)[DT$SEX==1])
setwd("~/Downloads/project/ExData_Plotting1")
